# ü§ñ –ß–∞—Ç-–±–æ—Ç –¥–ª—è –∑–±–æ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

Telegram –±–æ—Ç –¥–ª—è –∑–±–æ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –ø–æ—à—É–∫ —Ä–æ–∑–≤–∞–≥ —Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º –≤ Supabase.

## üìã –û–ø–∏—Å

–¶–µ–π –±–æ—Ç –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ Telegram, –∑–±–∏—Ä–∞—é—á–∏ —ó—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –ø–æ—à—É–∫ —Ä–æ–∑–≤–∞–≥ —Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π. –í—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö Supabase –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É.

## ‚ú® –§—É–Ω–∫—Ü—ñ—ó

- üìù –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –∑ –∫–Ω–æ–ø–∫–∞–º–∏
- üîÑ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ —Ç–∞ –º–Ω–æ–∂–∏–Ω–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É
- üì± –ó—Ä—É—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Telegram
- üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –≤ Supabase
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- üåê –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ [Supabase](https://supabase.com)
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ URL —Ç–∞ API –∫–ª—é—á –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø—Ä–æ–µ–∫—Ç—É
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

```bash
python setup_database.py
```

4. –í–∏–∫–æ–Ω–∞–π—Ç–µ SQL –∫–æ–¥ –≤ Supabase Dashboard -> SQL Editor

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Telegram –±–æ—Ç–∞

1. –ù–∞–ø–∏—à—ñ—Ç—å [@BotFather](https://t.me/botfather) –≤ Telegram
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ—é `/newbot`
3. –û—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `env_example.txt`:

```env
SUPABASE_URL=your_supabase_url_here
SUPABASE_KEY=your_supabase_anon_key_here
TELEGRAM_TOKEN=your_telegram_bot_token_here
```

### 5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python bot.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –ø–∏—Ç–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ database.py         # –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ setup_database.py   # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ë–î
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îú‚îÄ‚îÄ env_example.txt     # –ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—è `survey_responses`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | SERIAL | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä |
| user_id | BIGINT | ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Telegram |
| username | TEXT | –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| created_at | TIMESTAMP | –ß–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ |
| answers | JSONB | –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |

## üéØ –ü–∏—Ç–∞–Ω–Ω—è –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

–ë–æ—Ç –≤–∫–ª—é—á–∞—î 10 –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å —Ç–∞ 4 –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö:

### –û—Å–Ω–æ–≤–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è:
1. –î–µ –≤–∏ —á–∞—Å—Ç—ñ—à–µ —à—É–∫–∞—î—Ç–µ —Ä–æ–∑–≤–∞–≥–∏?
2. –Ø–∫ –≤–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–µ —Ä–æ–∑–≤–∞–≥–∏?
3. –ß–∏ –≤–∞–∂–∫–æ –∑–Ω–∞–π—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ?
4. –Ø–∫ —à—É–∫–∞—î—Ç–µ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —ñ–¥–µ—ó?
5. –ß–∏ –∑—Ä—É—á–Ω–æ –±–∞—á–∏—Ç–∏ —Ä–æ–∑–≤–∞–≥–∏ –Ω–∞ –∫–∞—Ä—Ç—ñ?
6. –Ø–∫—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –∫–æ—Ä–∏—Å–Ω—ñ?
7. –ù–∞—Å–∫—ñ–ª—å–∫–∏ —Å–∫–ª–∞–¥–Ω–æ –∑–Ω–∞–π—Ç–∏ —Ä–æ–∑–≤–∞–≥–∏?
8. –ö–æ–ª–∏ –±—Ä–æ–Ω—é—î—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ?
9. –ß–∏ —Ü—ñ–∫–∞–≤—ñ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó?
10. –ß–∏ —Ö–æ—á–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è —Ç–∞–∫–∏–º –¥–æ–¥–∞—Ç–∫–æ–º?

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è:
- –í—ñ–∫
- –ú—ñ—Å—Ç–æ
- –©–æ –∑–∞–≤–∞–∂–∞—î –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Ä–æ–∑–≤–∞–≥–∏?
- –Ü–¥–µ—ó —Ç–∞ –ø–æ–±–∞–∂–∞–Ω–Ω—è

## üîß –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

- `/start` - –ü–æ—á–∞—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è
- `/stats` - –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤)

## üõ† –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `config.py`:

```python
QUESTIONS = [
    {
        "id": 11,
        "question": "–í–∞—à–µ –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è?",
        "type": "single_choice",  # –∞–±–æ "multiple_choice"
        "options": ["–í–∞—Ä—ñ–∞–Ω—Ç 1", "–í–∞—Ä—ñ–∞–Ω—Ç 2"]
    }
]
```

### –ó–º—ñ–Ω–∞ —Ç–µ–∫—Å—Ç—É

–í—Å—ñ —Ç–µ–∫—Å—Ç–∏ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –≤ —Ñ–∞–π–ª—ñ `bot.py` —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ—è—Ö.

## üìà –ê–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö

–î–ª—è –∞–Ω–∞–ª—ñ–∑—É –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Supabase Dashboard –∞–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å –≤–ª–∞—Å–Ω—ñ –∑–∞–ø–∏—Ç–∏:

```sql
-- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –∑–∞ –¥–µ–Ω—å
SELECT DATE(created_at) as date, COUNT(*) as responses
FROM survey_responses
GROUP BY DATE(created_at)
ORDER BY date;

-- –ü–æ–ø—É–ª—è—Ä–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è 1
SELECT 
  answers->>'q1' as answer,
  COUNT(*) as count
FROM survey_responses
GROUP BY answers->>'q1'
ORDER BY count DESC;
```

## üîí –ë–µ–∑–ø–µ–∫–∞

- –í—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∞–Ω–æ–Ω—ñ–º–Ω–æ
- API –∫–ª—é—á—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –ù–µ–º–∞—î –∑–±–æ—Ä—É –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Supabase
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å URL —Ç–∞ API –∫–ª—é—á–∞
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–∞–±–ª–∏—Ü—è —Å—Ç–≤–æ—Ä–µ–Ω–∞

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ Telegram
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π

### –ü–æ–º–∏–ª–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ Supabase

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏, —Å—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –∞–±–æ –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂—É—î—Ç—å—Å—è –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT.
